# vim: ft=zsh
[[ -f  ~/.Xmodmap ]] && xmodmap ~/.Xmodmap

xinput set-prop 'SNSL002D:00 2C2F:002D Touchpad' "libinput Accel Speed" 0.9
xinput set-prop 'SNSL002D:00 2C2F:002D Touchpad' "libinput Tapping Enabled" 1

function turnoff_displays(){
    local monitors=($(xrandr | awk '$2=="disconnected"{print $1}'))
    for m in $monitors; do
        xrandr --output $m --off
    done
}

function setup_displays(){
    local positions=(0x0  2560x0 1600x1440)
    typeset -A resolutions=($(xrandr | awk 'm{print m, $1; m=""}$2=="connected"{m=$1}'))
    local n=1
    for m in ${(k)resolutions}; do
        xrandr --output $m --mode $resolutions[$m] --pos $positions[$n]
        (( ++n ))
    done
}

turnoff_displays
setup_displays
